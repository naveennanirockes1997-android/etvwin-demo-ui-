import{c as v,r,j as e,X as y}from"./index-D9SZOpTO.js";import{a as w}from"./api-BP8-OsKz.js";import{C as N,S as k}from"./SkeletonCard-4U_A2sEu.js";import{F as C}from"./funnel-De81dtF3.js";import{S,C as F}from"./star-CoGsQM--.js";const z=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],L=v("trending-up",z),E=()=>{const[x,f]=r.useState([]),[i,h]=r.useState(!0),[l,m]=r.useState(1),[n,u]=r.useState(!0),[o,b]=r.useState(!1),[a,p]=r.useState({rating:"",year:"",sortBy:""});r.useEffect(()=>{(async()=>{l===1&&h(!0);try{const s=await w.getTrending(l,12,a);s.length<12&&u(!1),f(c=>l===1?s:[...c,...s])}catch(s){console.error("Failed to fetch trending:",s)}finally{h(!1)}})()},[l,a]),r.useEffect(()=>{m(1),u(!0)},[a]);const g=()=>{!i&&n&&m(t=>t+1)},d=(t,s)=>{p(c=>({...c,[t]:s}))},j=()=>{p({rating:"",year:"",sortBy:""})};return e.jsxs("div",{className:"pt-28 px-4 md:px-12 pb-20 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-10 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl text-primary",children:e.jsx(L,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-black",children:"Trending Now"}),e.jsx("p",{className:"text-text-muted",children:"The most watched films this week"})]})]}),e.jsxs("div",{className:"relative self-start md:self-center",children:[e.jsxs("button",{onClick:()=>b(!o),className:`flex items-center gap-2 px-6 py-3 rounded-full border transition-all ${o||Object.values(a).some(t=>t)?"bg-primary/10 border-primary text-primary":"bg-surface-light hover:bg-zinc-800 border-white/5"}`,children:[e.jsx(C,{size:20}),e.jsx("span",{className:"font-bold",children:"Filters"})]}),o&&e.jsxs("div",{className:"absolute right-0 top-full mt-4 w-72 bg-surface-dark border border-white/10 rounded-2xl p-6 z-50 shadow-2xl backdrop-blur-xl animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-bold",children:"Refine Results"}),e.jsx("button",{onClick:()=>b(!1),className:"text-text-muted hover:text-white",children:e.jsx(y,{size:18})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-text-muted uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(S,{size:14})," Min Rating"]}),e.jsxs("select",{value:a.rating,onChange:t=>d("rating",t.target.value),className:"w-full bg-surface-light border border-white/10 rounded-lg px-4 py-2 outline-none focus:border-primary transition-colors text-sm",children:[e.jsx("option",{value:"",children:"Any Rating"}),e.jsx("option",{value:"90",children:"90% +"}),e.jsx("option",{value:"80",children:"80% +"}),e.jsx("option",{value:"70",children:"70% +"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-bold text-text-muted uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(F,{size:14})," Release Year"]}),e.jsxs("select",{value:a.year,onChange:t=>d("year",t.target.value),className:"w-full bg-surface-light border border-white/10 rounded-lg px-4 py-2 outline-none focus:border-primary transition-colors text-sm",children:[e.jsx("option",{value:"",children:"Any Year"}),e.jsx("option",{value:"2000",children:"2000 & Later"}),e.jsx("option",{value:"1990",children:"1990 & Later"}),e.jsx("option",{value:"1980",children:"1980 & Later"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-text-muted uppercase tracking-wider mb-3",children:"Sort By"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:"Default",value:""},{label:"Newest",value:"newest"},{label:"Review Score",value:"rating"}].map(t=>e.jsx("button",{onClick:()=>d("sortBy",t.value),className:`px-4 py-2 rounded-lg text-xs font-bold capitalize border transition-all ${a.sortBy===t.value?"bg-primary border-primary text-white":"bg-surface-light border-white/5 text-text-muted hover:border-white/20"}`,children:t.label},t.value))})]}),e.jsx("button",{onClick:j,className:"w-full py-2.5 bg-white/5 hover:bg-white/10 rounded-lg text-xs font-bold transition-colors border border-white/5",children:"Clear All Filters"})]})]})]})]}),e.jsxs("div",{className:"content-grid",children:[x.map(t=>e.jsx(N,{item:t},t.id)),i&&Array.from({length:8}).map((t,s)=>e.jsx(k,{},`skeleton-${s}`))]}),!i&&n&&e.jsx("div",{className:"mt-16 flex justify-center",children:e.jsx("button",{onClick:g,className:"px-12 py-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full font-bold transition-all hover:scale-105",children:"Load More Content"})}),!n&&x.length>0&&e.jsx("p",{className:"text-center text-text-muted mt-12 italic",children:"You've reached the end of the trending films."})]})};export{E as default};
