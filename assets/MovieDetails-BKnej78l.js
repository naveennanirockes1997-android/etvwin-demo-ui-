import{c as d,u as g,b as j,r as s,j as e,L as v}from"./index-DEpxVuBu.js";import{P as N,a as o}from"./api-CnTjIxnj.js";import{C as w}from"./ContentRow-CGvqhxTn.js";import{A as y}from"./arrow-left-BT8Y0GMb.js";import{S as k,C as M}from"./star-BUhvRgiH.js";import{P as _}from"./SkeletonCard-em0vftH_.js";const C=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S=d("clock",C);const P=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],z=d("share-2",P),F=()=>{const{id:r}=g(),a=j(),[t,m]=s.useState(null),[x,h]=s.useState([]),[u,l]=s.useState(!0),[c,n]=s.useState(null);return s.useEffect(()=>{(async()=>{l(!0),n(null);try{const[i,p]=await Promise.all([o.getContentDetails(r),o.getHomeData()]);m(i);const b=p.filter(f=>f.id!==r).sort(()=>.5-Math.random()).slice(0,10);h(b)}catch(i){console.error("Failed to fetch movie details:",i),n("Failed to load movie details. Please try again later.")}finally{l(!1)}})(),window.scrollTo(0,0)},[r]),u?e.jsxs("div",{className:"pt-24 px-4 md:px-12 pb-20 min-h-screen animate-pulse",children:[e.jsx("div",{className:"h-[60vh] bg-white/5 rounded-3xl mb-8"}),e.jsx("div",{className:"h-8 w-1/3 bg-white/5 rounded mb-4"}),e.jsx("div",{className:"h-4 w-2/3 bg-white/5 rounded mb-8"})]}):c||!t?e.jsxs("div",{className:"h-screen flex flex-col items-center justify-center p-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Error"}),e.jsx("p",{className:"text-text-muted mb-8",children:c||"Movie not found"}),e.jsx("button",{onClick:()=>a(-1),className:"btn-primary",children:"Go Back"})]}):e.jsxs("div",{className:"pb-20",children:[e.jsxs("div",{className:"relative h-[70vh] md:h-[90vh] w-full",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:t.movie_banner||t.image,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/60 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center px-4 md:px-12 pt-20",children:[e.jsxs("button",{onClick:()=>a(-1),className:"flex items-center gap-2 text-text-muted hover:text-white mb-8 transition-colors",children:[e.jsx(y,{size:20})," Back"]}),e.jsx("h1",{className:"text-4xl md:text-7xl font-black mb-4 max-w-3xl leading-tight",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 text-sm md:text-base font-medium",children:[e.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[e.jsx(k,{size:18,fill:"currentColor"}),e.jsxs("span",{children:[t.rt_score,"% Score"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-text-muted",children:[e.jsx(M,{size:18}),e.jsx("span",{children:t.release_date})]}),e.jsxs("div",{className:"flex items-center gap-1 text-text-muted",children:[e.jsx(S,{size:18}),e.jsxs("span",{children:[t.running_time," min"]})]}),e.jsx("span",{className:"px-2 py-0.5 border border-white/20 rounded text-xs uppercase tracking-wider",children:"Studio Ghibli"})]}),e.jsx("p",{className:"text-gray-300 text-lg md:text-xl max-w-2xl mb-8 line-clamp-4 md:line-clamp-none leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs(v,{to:`/watch/${t.id}`,className:"btn-primary py-4 px-10 rounded-full flex items-center gap-3 text-lg font-bold shadow-lg shadow-primary/20 hover:scale-105 transition-transform",children:[e.jsx(N,{size:24,fill:"currentColor"})," Play Now"]}),e.jsx("button",{className:"w-14 h-14 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center hover:bg-white/20 transition-colors",children:e.jsx(_,{size:24})}),e.jsx("button",{className:"w-14 h-14 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center hover:bg-white/20 transition-colors",children:e.jsx(z,{size:24})})]})]})]}),e.jsxs("div",{className:"px-4 md:px-12 -mt-20 relative z-10 space-y-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 p-8 bg-surface-light/50 backdrop-blur-xl rounded-3xl border border-white/5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-text-muted text-sm font-bold uppercase tracking-wider mb-2",children:"Director"}),e.jsx("p",{className:"text-lg font-medium",children:t.director})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-text-muted text-sm font-bold uppercase tracking-wider mb-2",children:"Producer"}),e.jsx("p",{className:"text-lg font-medium",children:t.producer})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-text-muted text-sm font-bold uppercase tracking-wider mb-2",children:"Original Title"}),e.jsxs("p",{className:"text-lg font-medium",children:[t.original_title," (",t.original_title_romanised,")"]})]})]}),e.jsx(w,{title:"More Like This",items:x,isLoading:!1})]})]})};export{F as default};
